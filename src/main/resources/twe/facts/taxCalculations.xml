<?xml version="1.0"?>
<?xml-model href="./FactDictionaryModule.rng"?>
<FactDictionaryModule>
  <Facts>
    <Fact path="/agi">
      <Name>Adjusted Gross Income</Name>
      <Description>Total income to report on line 11 of Form 1040.</Description>
      <Derived>
        <Round>
          <Subtract>
            <Minuend>
              <Dependency path="/totalIncome"/>
            </Minuend>
            <Subtrahends>
              <Dependency path="/adjustmentsToIncome"/>
            </Subtrahends>
          </Subtract>
        </Round>
      </Derived>
    </Fact>
    <Fact path="/taxableIncome">
      <Description>Taxable income as reported on line 15 of Form 1040. Should not be negative.</Description>
      <Derived>
        <GreaterOf>
          <Dollar>0</Dollar>
          <Round>
            <Subtract>
              <Minuend>
                <Dependency path="/agi"/>
              </Minuend>
              <Subtrahends>
                <Dependency path="/totalDeductions"/>
              </Subtrahends>
            </Subtract>
          </Round>
        </GreaterOf>
      </Derived>
    </Fact>
    <Fact path="/magiForOB3BelowLineDeductions">
      <Name>Modified Adjusted Gross Income for OB3 Below Line Deductions</Name>
      <Description>Adjusted gross income of the taxpayer for the taxable year increased by any
        amount excluded
        from gross income under section 911, 931, or 933.
      </Description>
      <Derived>
        <Round>
          <Add>
            <Dependency path="/agi"/>
            <Dependency path="/incomeToIncludeForOB3MAGI"/>
          </Add>
        </Round>
      </Derived>
    </Fact>
    <Fact path="/roundedTaxableIncome">
      <Name>Rounded taxable income</Name>
      <Description>Income less than $100,000 uses the tax tables from the Instructions for
        Form 1040. This fact selects the "midpoint" that corresponds to each entry in the
        tax tables, for use in calculating tentative tax.
      </Description>
      <Derived>
        <Switch>
          <!-- No tax if you've got no taxable income -->
          <Case>
            <When>
              <LessThanOrEqual>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>0</Dollar>
                </Right>
              </LessThanOrEqual>
            </When>
            <Then>
              <Dollar>0</Dollar>
            </Then>
          </Case>
          <!-- There are three hardcoded midpoints for income less than $25 -->
          <Case>
            <When>
              <LessThan>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>5</Dollar>
                </Right>
              </LessThan>
            </When>
            <Then>
              <Dollar>2.50</Dollar>
            </Then>
          </Case>
          <Case>
            <When>
              <LessThan>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>15</Dollar>
                </Right>
              </LessThan>
            </When>
            <Then>
              <Dollar>10</Dollar>
            </Then>
          </Case>
          <Case>
            <When>
              <LessThan>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>25</Dollar>
                </Right>
              </LessThan>
            </When>
            <Then>
              <Dollar>20</Dollar>
            </Then>
          </Case>
          <!-- The tax tables use increments of $25 for income between $25 and $3,000 -->
          <Case>
            <When>
              <LessThan>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>3000</Dollar>
                </Right>
              </LessThan>
            </When>
            <Then>
              <Add>
                <StepwiseMultiply>
                  <Multiplicand>
                    <Dependency path="/taxableIncome"/>
                  </Multiplicand>
                  <Rate>
                    <Rational>25/25</Rational>
                    <!-- $25 for every whole $25 of income -->
                  </Rate>
                </StepwiseMultiply>
                <Dollar>12.50</Dollar>
                <!-- Add $12.50 to find the midpoint of the row -->
              </Add>
            </Then>
          </Case>
          <!-- The tax tables use increments of $50 for income between $3,000 and $100,000 -->
          <Case>
            <When>
              <LessThan>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>100000</Dollar>
                </Right>
              </LessThan>
            </When>
            <Then>
              <Add>
                <StepwiseMultiply>
                  <Multiplicand>
                    <Dependency path="/taxableIncome"/>
                  </Multiplicand>
                  <Rate>
                    <Rational>50/50</Rational>
                    <!-- $50 for every whole $50 of income -->
                  </Rate>
                </StepwiseMultiply>
                <Dollar>25</Dollar>
                <!-- Add $25 to find the midpoint of the row -->
              </Add>
            </Then>
          </Case>
          <!-- Income of $100,000 and over uses the tax computation worksheet -->
          <Case>
            <When>
              <GreaterThanOrEqual>
                <Left>
                  <Dependency path="/taxableIncome"/>
                </Left>
                <Right>
                  <Dollar>100000</Dollar>
                </Right>
              </GreaterThanOrEqual>
            </When>
            <Then>
              <Dependency path="/taxableIncome"/>
            </Then>
          </Case>
        </Switch>
      </Derived>
    </Fact>
    <Fact path="/tentativeTaxFromTaxableIncome">
      <Description>Tentative tax as reported on line 16 of Form 1040. Rev Proc .01 Tax Rate Tables
        &#xA7;1(j)(2)(A|B|C|D)
      </Description>
      <TaxYear>2025</TaxYear>
      <Derived>
        <Round>
          <Switch>
            <!-- MARRIED FILING JOINTLY AND QUALIFIED SURVIVING SPOUSE -->
            <Case>
              <When>
                <Any>
                  <Dependency module="filingStatus" path="/isFilingStatusMFJ"/>
                  <Dependency module="filingStatus" path="/isFilingStatusQSS"/>
                </Any>
              </When>
              <Then>
                <Switch>
                  <!-- Not over $23,850: 10% of the taxable income -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>23850</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Multiply>
                        <Rational>10/100</Rational>
                        <Dependency path="/roundedTaxableIncome"/>
                      </Multiply>
                    </Then>
                  </Case>
                  <!-- Over $23,850 but not over $96,950:
                $2,385 plus 12% of the excess over $23,850 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>96950</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>2385</Dollar>
                        <Multiply>
                          <Rational>12/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>23850</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $96,950 but not over $206,700: $11,157 plus 22% of the excess over
                  $96,950 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>206700</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>11157</Dollar>
                        <Multiply>
                          <Rational>22/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>96950</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $206,700 but not over $394,600: $35,302 plus 24% of the excess over
                  $206,700  -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>394600</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>35302</Dollar>
                        <Multiply>
                          <Rational>24/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>206700</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $394,600 but not over $501,050: $80,398 plus 32% of the excess over
                  $394,600  -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>501050</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>80398</Dollar>
                        <Multiply>
                          <Rational>32/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>394600</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $501,050 but not over $751,600: $114,462 plus 35% of the excess over
                  $501,050  -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>751600</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>114462</Dollar>
                        <Multiply>
                          <Rational>35/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>501050</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $751,600: $202,154.50 plus 37% of the excess over $751,600 -->
                  <Case>
                    <When>
                      <GreaterThan>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>751600</Dollar>
                        </Right>
                      </GreaterThan>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>202154.50</Dollar>
                        <Multiply>
                          <Rational>37/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>751600</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                </Switch>
              </Then>
            </Case>
            <!-- HEAD OF HOUSEHOLD -->
            <Case>
              <When>
                <Dependency module="filingStatus" path="/isFilingStatusHOH"/>
              </When>
              <Then>
                <Switch>
                  <!-- Not over $17,000: 10% of the taxable income -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>17000</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Multiply>
                        <Rational>10/100</Rational>
                        <Dependency path="/roundedTaxableIncome"/>
                      </Multiply>
                    </Then>
                  </Case>
                  <!-- Over $17,000 but not over $64,850: $1,700 plus 12% of the excess over $17,000 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>64850</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>1700</Dollar>
                        <Multiply>
                          <Rational>12/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>17000</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $64,850 but not over $103,350: $7,442 plus 22% of the excess over
                  $64,850  -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>103350</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>7442</Dollar>
                        <Multiply>
                          <Rational>22/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>64850</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $103,350 but not over $197,300: $15,912 plus 24% of the excess over
                  $103,350 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>197300</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>15912</Dollar>
                        <Multiply>
                          <Rational>24/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>103350</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $197,300 but not over $250,500: $38,460 plus 32% of the excess over
                  $197,300 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>250500</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>38460</Dollar>
                        <Multiply>
                          <Rational>32/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>197300</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $250,500 but not over $626,350: $55,484 plus 35% of the excess over
                  $250,500 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>626350</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>55484</Dollar>
                        <Multiply>
                          <Rational>35/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>250500</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $626,350: $187,031.50 plus 37% of the excess over $626,350 -->
                  <Case>
                    <When>
                      <GreaterThan>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>626350</Dollar>
                        </Right>
                      </GreaterThan>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>187031.50</Dollar>
                        <Multiply>
                          <Rational>37/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>626350</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                </Switch>
              </Then>
            </Case>
            <!-- SINGLE -->
            <Case>
              <When>
                <Dependency module="filingStatus" path="/isFilingStatusSingle"/>
              </When>
              <Then>
                <Switch>
                  <!-- Not over $11,925: 10% of the taxable income -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>11925</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Multiply>
                        <Rational>10/100</Rational>
                        <Dependency path="/roundedTaxableIncome"/>
                      </Multiply>
                    </Then>
                  </Case>
                  <!-- Over $11,925 but not over $48,475: $1,192.50 plus 12% of the excess over
                  $11,925 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>48475</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>1192.50</Dollar>
                        <Multiply>
                          <Rational>12/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>11925</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $48,475 but not over $103,350: $5,578.50 plus 22% of the excess over
                  $48,475 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>103350</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>5578.50</Dollar>
                        <Multiply>
                          <Rational>22/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>48475</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $103,350 but not over $197,300: $17,651 plus 24% of the excess over
                  $103,350 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>197300</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>17651</Dollar>
                        <Multiply>
                          <Rational>24/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>103350</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $197,300 but not over $250,525: $40,199 plus 32% of the excess over
                  $197,300 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>250525</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>40199</Dollar>
                        <Multiply>
                          <Rational>32/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>197300</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $250,525 but not over $626,350: $57,231 plus 35% of the excess over
                  $250,525 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>626350</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>57231</Dollar>
                        <Multiply>
                          <Rational>35/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>250525</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $626,350: $188,769.75 plus 37% of the excess over $626,350 -->
                  <Case>
                    <When>
                      <GreaterThan>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>626350</Dollar>
                        </Right>
                      </GreaterThan>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>188769.75</Dollar>
                        <Multiply>
                          <Rational>37/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>626350</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                </Switch>
              </Then>
            </Case>
            <!-- MARRIED FILING SEPARATELY -->
            <Case>
              <When>
                <Dependency module="filingStatus" path="/isFilingStatusMFS"/>
              </When>
              <Then>
                <Switch>
                  <!-- Not over $11,925: 10% of the taxable income -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>11925</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Multiply>
                        <Rational>10/100</Rational>
                        <Dependency path="/roundedTaxableIncome"/>
                      </Multiply>
                    </Then>
                  </Case>
                  <!-- Over $11,925 but not over $48,475: $1,192.50 plus 12% of the excess over
                  $11,925 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>48475</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>1192.50</Dollar>
                        <Multiply>
                          <Rational>12/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>11925</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $48,475 but not over $103,350: $5,578.50 plus 22% of the excess over
                  $48,475 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>103350</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>5578.50</Dollar>
                        <Multiply>
                          <Rational>22/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>48475</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $103,350 but not over $197,300: $17,651 plus 24% of the excess over
                  $103,350 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>197300</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>17651</Dollar>
                        <Multiply>
                          <Rational>24/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>103350</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $197,300 but not over $250,525: $40,199 plus 32% of the excess over
                  $197,300 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>250525</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>40199</Dollar>
                        <Multiply>
                          <Rational>32/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>197300</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $250,525 but not over $375,800: $57,231 plus 35% of the excess over
                  $250,525 -->
                  <Case>
                    <When>
                      <LessThanOrEqual>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>375800</Dollar>
                        </Right>
                      </LessThanOrEqual>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>57231</Dollar>
                        <Multiply>
                          <Rational>35/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>250525</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                  <!-- Over $375,800: $101,077.25 plus 37% of the excess over $375,800 -->
                  <Case>
                    <When>
                      <GreaterThan>
                        <Left>
                          <Dependency path="/roundedTaxableIncome"/>
                        </Left>
                        <Right>
                          <Dollar>375800</Dollar>
                        </Right>
                      </GreaterThan>
                    </When>
                    <Then>
                      <Add>
                        <Dollar>101077.25</Dollar>
                        <Multiply>
                          <Rational>37/100</Rational>
                          <Subtract>
                            <Minuend>
                              <Dependency path="/roundedTaxableIncome"/>
                            </Minuend>
                            <Subtrahends>
                              <Dollar>375800</Dollar>
                            </Subtrahends>
                          </Subtract>
                        </Multiply>
                      </Add>
                    </Then>
                  </Case>
                </Switch>
              </Then>
            </Case>
          </Switch>
        </Round>
      </Derived>
    </Fact>
    <Fact path="/totalAdditionalTaxesOwed">
      <Description>Schedule 2 Line 3. Form 1040 line 17. Summation of Lines 1a-z and 2, all of which are not supported in TWE today</Description>
      <Derived>
        <Dollar>0</Dollar>
      </Derived>
    </Fact>
    <Fact path="/totalOtherTaxes">
      <Description>Schedule 2 Line 21. Form 1040 line 23.</Description>
      <Derived>
        <Add>
          <Dependency path="/selfEmploymentTax"/>
          <Dependency path="/additionalMedicareTax"/>
          <Dependency path="/netInvestmentIncomeTax"/>
        </Add>
      </Derived>
    </Fact>
    <Fact path="/totalTentativeTax">
      <Name>Total tentative tax</Name>
      <Description>Form 1040 Line 18. Total tentative tax</Description>
      <Derived>
        <Round>
          <Add>
            <Dependency path="/tentativeTaxFromTaxableIncome"/>
            <Dependency path="/totalAdditionalTaxesOwed"/>
          </Add>
        </Round>
      </Derived>
    </Fact>
    <Fact path="/tentativeTaxNetNonRefundableCredits">
      <Name>Total tentative tax - non refundable credits</Name>
      <Description>Form 1040 Line 22. </Description>
      <Derived>
        <!--          Form 1040 Line 22-->
        <GreaterOf>
          <Dollar>0</Dollar>
          <Subtract>
            <Minuend>
              <Dependency path="/totalTentativeTax"/>
            </Minuend>
            <Subtrahends>
              <Dependency path="/totalNonRefundableCredits"/>
            </Subtrahends>
          </Subtract>
        </GreaterOf>
      </Derived>
    </Fact>
    <Fact path="/totalTax">
      <Description>Form 1040 Line 24. Taxes from taxable income minus non refundable credits plus other taxes, including self-employment tax. </Description>
      <Derived>
        <Add>
          <Dependency path="/tentativeTaxNetNonRefundableCredits"/>
          <Dependency path="/totalOtherTaxes"/>
        </Add>
      </Derived>
    </Fact>
    <Fact path="/totalPayments">
      <Description>Form 1040 Line 33</Description>
      <!--      TODO: do we need to include line 25d for FIT withheld?-->
      <Derived>
        <Add>
          <Dependency path="/totalEstimatedTaxesPaid"/>
          <Dependency path="/totaRefundableCredits"/>
        </Add>
      </Derived>
    </Fact>
    <Fact path="/totalOwed">
      <Description>Form 1040 Line 37. Estimated total taxes owed. The tax liability minus the total credits and total
        advance payments made during the tax year.
        Negative value = overpayment = refund
        Positive value = underpayment = balance due
      </Description>
      <Derived>
        <Subtract>
          <Minuend>
            <Dependency path="/totalTax"/>
          </Minuend>
          <Subtrahends>
            <Dependency path="/totalPayments"/>
          </Subtrahends>
        </Subtract>
      </Derived>
    </Fact>
    <Fact path="/topTaxRateBracketThresholdByFilingStatus">
      <Description> Threshold at which the top tax bracket (37%) applies by filing status
      </Description>
      <TaxYear>2025</TaxYear>
      <Derived>
        <Switch>
          <Case>
            <!-- MFJ or QSS -->
            <When>
              <Any>
                <Dependency path="/isFilingStatusMFJ"/>
                <Dependency path="/isFilingStatusQSS"/>
              </Any>
            </When>
            <Then>
              <Dollar>751600</Dollar>
            </Then>
          </Case>
          <Case>
            <!-- Single or HoH -->
            <When>
              <Any>
                <Dependency path="/isFilingStatusSingle"/>
                <Dependency path="/isFilingStatusHOH"/>
              </Any>
            </When>
            <Then>
              <Dollar>626350</Dollar>
            </Then>
          </Case>
          <Case>
            <!-- MFS -->
            <When>
              <Dependency path="/isFilingStatusMFS"/>
            </When>
            <Then>
              <Dollar>375800</Dollar>
            </Then>
          </Case>
        </Switch>
      </Derived>
    </Fact>
    <Fact path="/magiForStudentLoanInterestDeduction">
      <Name>Modified Adjusted Gross Income for Student Loan Interest Deduction</Name>
      <Description>This is AGI, but without student loan interest deduction.</Description>
      <Derived>
        <Subtract>
          <Minuend>
            <Dependency path="/totalIncome"/>
          </Minuend>
          <Subtrahends>
            <Dependency path="/adjustmentsToIncomeExcludingStudentLoanInterest"/>
          </Subtrahends>
        </Subtract>
      </Derived>
    </Fact>
    <Fact path="/taxableIncomeExcludingItemizedDeductions">
      <Description>Taxable income for calculating itemized deduction cap for itemizers. By default excludes standard deduction because the taxpayer
        is itemizing, as well as itemized deduction to avoid circular dependency.</Description>
      <Derived>
        <Round>
          <Subtract>
            <Minuend>
              <Dependency path="/agi"/>
            </Minuend>
            <Subtrahends>
              <Dependency path="/qualifiedBusinessIncomeDeduction"/>
              <Dependency path="/oB3Deductions"/>
            </Subtrahends>
          </Subtract>
        </Round>
      </Derived>
    </Fact>
    <Fact path="/excessTaxableIncomeOverTopTaxRate">
      <Description> Excess taxable income over the 37% tax rate. Different brackets apply depending
        on filing status
      </Description>
      <Derived>
        <GreaterOf>
          <Subtract>
            <Minuend>
              <Dependency path="/taxableIncomeExcludingItemizedDeductions"/>
            </Minuend>
            <Subtrahends>
              <Dependency path="/topTaxRateBracketThresholdByFilingStatus"/>
            </Subtrahends>
          </Subtract>
          <Dollar>0</Dollar>
        </GreaterOf>
      </Derived>
    </Fact>
    <Fact path="/maxIncomeSubjectToSocialSecurityTax">
      <Description> Schedule SE Line 7. Maximum amount of combined wages and self-employment earnings subject to social security tax or
        the 6.2% portion of the 7.65% railroad retirement (tier 1) tax for 2025</Description>
      <TaxYear>2025</TaxYear>
      <Derived>
        <Dollar>176100</Dollar>
      </Derived>
    </Fact>
    <Fact path="/socialSecurityEmployeeTaxRate">
      <TaxYear>2025</TaxYear>
      <Derived>
        <Rational>62/1000</Rational>
      </Derived>
    </Fact>
    <Fact path="/medicareEmployeeTaxRate">
      <TaxYear>2025</TaxYear>
      <Derived>
        <Rational>145/10000</Rational>
      </Derived>
    </Fact>
    <Fact path="/socialSecurityTaxesWithheld">
      <Derived>
        <Switch>
          <Case>
            <When>
              <Dependency path="/isFilingStatusMFJ"/>
            </When>
            <Then>
              <Multiply>
                <Add>
                  <LesserOf>
                    <Dependency path="/earnedIncomeSelf"/>
                    <Dependency path="/maxIncomeSubjectToSocialSecurityTax"/>
                  </LesserOf>
                  <LesserOf>
                    <Dependency path="/earnedIncomeSpouse"/>
                    <Dependency path="/maxIncomeSubjectToSocialSecurityTax"/>
                  </LesserOf>
                </Add>
                <Dependency path="/socialSecurityEmployeeTaxRate"/>
              </Multiply>
            </Then>
          </Case>
          <Case>
            <When>
              <True/>
            </When>
            <Then>
              <Multiply>
                <LesserOf>
                  <Dependency path="/earnedIncomeSelf"/>
                  <Dependency path="/maxIncomeSubjectToSocialSecurityTax"/>
                </LesserOf>
                <Dependency path="/socialSecurityEmployeeTaxRate"/>
              </Multiply>
            </Then>
          </Case>
        </Switch>
      </Derived>
    </Fact>
    <Fact path="/medicareTaxesWithheld">
      <Derived>
        <Switch>
          <Case>
            <When>
              <Dependency path="/isFilingStatusMFJ"/>
            </When>
            <Then>
              <Multiply>
                <Add>
                  <Dependency path="/earnedIncomeSelf"/>
                  <Dependency path="/earnedIncomeSpouse"/>
                </Add>
                <Dependency path="/medicareEmployeeTaxRate"/>
              </Multiply>
            </Then>
          </Case>
          <Case>
            <When>
              <True/>
            </When>
            <Then>
              <Multiply>
                <Dependency path="/earnedIncomeSelf"/>
                <Dependency path="/medicareEmployeeTaxRate"/>
              </Multiply>
            </Then>
          </Case>
        </Switch>
      </Derived>
    </Fact>
    <Fact path="/withheldFICA">
      <Derived>
        <Add>
          <Dependency path="/socialSecurityTaxesWithheld"/>
          <Dependency path="/medicareTaxesWithheld"/>
        </Add>
      </Derived>
    </Fact>
    <Fact path="/additionalMedicareTaxAndFICA">
      <Description>Schedule 8812 Line 21</Description>
      <Derived>
        <Add>
          <Dependency path="/withheldFICA"/>
          <Dependency path="/additionalMedicareTax"/>
        </Add>
      </Derived>
    </Fact>
    <Fact path="/additionalMedicareTaxAndFICAAndSETaxDeduction">
      <Description>Schedule 8812 Line 23</Description>
      <Derived>
        <Add>
          <Dependency path="/additionalMedicareTaxAndFICA"/>
          <Dependency path="/selfEmploymentTaxDeduction"/>
        </Add>
      </Derived>
    </Fact>
  </Facts>
</FactDictionaryModule>
